<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>frontrowMD â€” Marketing Agents</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" />
  <style>
    /* â”€â”€ Reset & Base â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --midnight:  #020F18;
      --navy:      #172C45;
      --mid-navy:  #1D4053;
      --teal:      #72A4BF;
      --teal-10:   rgba(114,164,191,0.10);
      --teal-20:   rgba(114,164,191,0.20);
      --teal-45:   rgba(114,164,191,0.45);
      --border:    #D4E6EF;
      --light-bg:  linear-gradient(135deg, #F5F7FA 0%, #EBF3F8 60%, #D8ECF5 100%);
      --dark-bg:   linear-gradient(135deg, #020F18 0%, #1D4053 50%, #72A4BF 100%);
      --font:      'Libre Baskerville', Georgia, serif;
    }

    html, body {
      height: 100%;
      font-family: var(--font);
      background: var(--light-bg);
      color: var(--midnight);
      -webkit-font-smoothing: antialiased;
    }

    /* â”€â”€ Login Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #login-screen {
      position: fixed;
      inset: 0;
      background: var(--dark-bg);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 100;
      padding: 32px;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }

    #login-screen.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    .login-logo {
      font-size: 15px;
      color: rgba(255,255,255,0.5);
      letter-spacing: 0.12em;
      text-transform: uppercase;
      margin-bottom: 48px;
    }

    .login-logo span { color: var(--teal); }

    .login-box {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(114,164,191,0.25);
      border-radius: 16px;
      padding: 48px 48px 40px;
      width: 100%;
      max-width: 400px;
      text-align: center;
      backdrop-filter: blur(10px);
    }

    .login-box h1 {
      font-size: 26px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 8px;
      line-height: 1.3;
    }

    .login-box p {
      font-size: 14px;
      color: rgba(255,255,255,0.45);
      margin-bottom: 36px;
      font-style: italic;
    }

    .login-box input {
      width: 100%;
      padding: 14px 20px;
      border-radius: 50px;
      border: 1.5px solid rgba(114,164,191,0.35);
      background: rgba(255,255,255,0.07);
      color: #fff;
      font-family: var(--font);
      font-size: 15px;
      text-align: center;
      letter-spacing: 0.12em;
      outline: none;
      transition: border-color 0.2s ease;
      margin-bottom: 16px;
    }

    .login-box input::placeholder { color: rgba(255,255,255,0.25); letter-spacing: 0.05em; }
    .login-box input:focus { border-color: var(--teal); }

    .login-btn {
      width: 100%;
      padding: 14px 28px;
      border-radius: 50px;
      border: none;
      background: var(--teal);
      color: #fff;
      font-family: var(--font);
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .login-btn:hover { background: #5E8CA8; transform: translateY(-1px); }
    .login-btn:active { transform: translateY(0); }

    .login-error {
      margin-top: 14px;
      font-size: 13px;
      color: #f87171;
      min-height: 18px;
      font-style: italic;
    }

    /* â”€â”€ Main App â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #app {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transition: opacity 0.5s ease 0.1s;
    }

    #app.visible { opacity: 1; }

    /* â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    header {
      background: var(--navy);
      padding: 0 48px;
      height: 68px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid rgba(114,164,191,0.2);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .header-logo {
      font-size: 17px;
      font-weight: 700;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .header-logo .caduceus { font-size: 20px; color: var(--teal); }

    .header-badge {
      font-size: 11px;
      color: var(--teal);
      letter-spacing: 0.1em;
      text-transform: uppercase;
      background: rgba(114,164,191,0.12);
      border: 1px solid rgba(114,164,191,0.25);
      border-radius: 50px;
      padding: 4px 12px;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .logout-btn {
      font-family: var(--font);
      font-size: 13px;
      color: rgba(255,255,255,0.35);
      background: none;
      border: none;
      cursor: pointer;
      transition: color 0.2s;
      padding: 6px 4px;
    }
    .logout-btn:hover { color: rgba(255,255,255,0.7); }

    /* â”€â”€ Page body â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    main {
      flex: 1;
      max-width: 980px;
      width: 100%;
      margin: 0 auto;
      padding: 56px 32px 80px;
    }

    .page-intro {
      margin-bottom: 52px;
    }

    .page-intro h2 {
      font-size: 32px;
      font-weight: 700;
      color: var(--navy);
      line-height: 1.25;
      margin-bottom: 12px;
    }

    .page-intro p {
      font-size: 16px;
      color: #4a6070;
      line-height: 1.7;
      max-width: 560px;
      font-style: italic;
    }

    /* â”€â”€ Agent cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .agents-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
      gap: 28px;
    }

    .agent-card {
      background: #fff;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 36px;
      box-shadow: 0 2px 12px rgba(23,44,69,0.06);
      transition: box-shadow 0.2s ease, transform 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .agent-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--navy), var(--teal));
      border-radius: 16px 16px 0 0;
    }

    .agent-card:hover {
      box-shadow: 0 8px 28px rgba(23,44,69,0.12);
      transform: translateY(-2px);
    }

    .card-header {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 20px;
    }

    .agent-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--navy), var(--mid-navy));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      flex-shrink: 0;
    }

    .card-meta { flex: 1; }

    .agent-number {
      font-size: 11px;
      font-weight: 700;
      color: var(--teal);
      letter-spacing: 0.1em;
      text-transform: uppercase;
      margin-bottom: 4px;
    }

    .agent-title {
      font-size: 19px;
      font-weight: 700;
      color: var(--navy);
      line-height: 1.3;
    }

    .agent-desc {
      font-size: 14px;
      color: #4a6070;
      line-height: 1.65;
      margin-bottom: 24px;
      font-style: italic;
    }

    .card-details {
      display: flex;
      gap: 20px;
      margin-bottom: 28px;
      flex-wrap: wrap;
    }

    .detail-item {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .detail-label {
      font-size: 10px;
      font-weight: 700;
      color: var(--teal);
      text-transform: uppercase;
      letter-spacing: 0.08em;
    }

    .detail-value {
      font-size: 13px;
      color: var(--navy);
    }

    /* â”€â”€ Run button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .run-btn {
      width: 100%;
      padding: 14px 24px;
      border-radius: 50px;
      border: none;
      background: var(--navy);
      color: #fff;
      font-family: var(--font);
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .run-btn:hover:not(:disabled) {
      background: var(--midnight);
      transform: translateY(-1px);
      box-shadow: 0 4px 14px rgba(23,44,69,0.22);
    }

    .run-btn:active:not(:disabled) { transform: translateY(0); }

    .run-btn:disabled {
      cursor: not-allowed;
      opacity: 0.7;
    }

    .run-btn .btn-icon { font-size: 16px; transition: transform 0.3s ease; }
    .run-btn:hover:not(:disabled) .btn-icon { transform: translateX(3px); }

    /* â”€â”€ Button states â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .run-btn.running {
      background: var(--mid-navy);
    }

    .run-btn.success {
      background: #0e6245;
    }

    .run-btn.error {
      background: #9b1c1c;
    }

    /* Spinner */
    .spinner {
      width: 16px;
      height: 16px;
      border: 2px solid rgba(255,255,255,0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
      flex-shrink: 0;
    }

    @keyframes spin { to { transform: rotate(360deg); } }

    /* â”€â”€ Status log â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .status-log {
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 10px;
      background: var(--teal-10);
      border: 1px solid rgba(114,164,191,0.2);
      font-size: 13px;
      color: var(--mid-navy);
      line-height: 1.6;
      min-height: 0;
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height 0.3s ease, opacity 0.3s ease, padding 0.3s ease;
    }

    .status-log.visible {
      max-height: 140px;
      opacity: 1;
    }

    .status-log.error-log {
      background: rgba(155, 28, 28, 0.06);
      border-color: rgba(155,28,28,0.2);
      color: #7f1d1d;
    }

    .status-log .log-time {
      font-size: 11px;
      color: var(--teal);
      margin-bottom: 4px;
      font-style: normal;
      font-weight: 700;
      letter-spacing: 0.05em;
    }

    .status-log a {
      color: var(--teal);
      text-decoration: underline;
    }

    /* â”€â”€ Schedule badge â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .schedule-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: #4a6070;
      background: rgba(114,164,191,0.08);
      border: 1px solid var(--border);
      border-radius: 50px;
      padding: 5px 12px;
      margin-top: 14px;
    }

    .schedule-badge .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--teal);
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.5; transform: scale(0.85); }
    }

    /* â”€â”€ Delivery tags â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .delivery-tags {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 24px;
    }

    .tag {
      font-size: 12px;
      color: var(--mid-navy);
      background: var(--teal-10);
      border: 1px solid rgba(114,164,191,0.25);
      border-radius: 50px;
      padding: 4px 11px;
    }

    /* â”€â”€ Activity feed (bottom) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .activity-section {
      margin-top: 60px;
      padding-top: 40px;
      border-top: 1px solid var(--border);
    }

    .activity-section h3 {
      font-size: 17px;
      font-weight: 700;
      color: var(--navy);
      margin-bottom: 20px;
    }

    #activity-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .activity-item {
      display: flex;
      align-items: center;
      gap: 14px;
      font-size: 13px;
      color: #4a6070;
      padding: 10px 16px;
      background: rgba(255,255,255,0.6);
      border: 1px solid var(--border);
      border-radius: 10px;
      animation: fadeIn 0.4s ease;
    }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }

    .activity-dot {
      width: 8px; height: 8px;
      border-radius: 50%;
      flex-shrink: 0;
    }
    .activity-dot.success { background: #10b981; }
    .activity-dot.running { background: var(--teal); animation: pulse 1.5s ease-in-out infinite; }
    .activity-dot.error   { background: #ef4444; }

    .activity-time { margin-left: auto; font-size: 11px; color: #94a3b8; white-space: nowrap; }

    .no-activity {
      font-size: 14px;
      color: #94a3b8;
      font-style: italic;
      padding: 8px 0;
    }

    /* â”€â”€ Footer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    footer {
      text-align: center;
      padding: 24px 32px;
      font-size: 12px;
      color: rgba(23,44,69,0.3);
      border-top: 1px solid var(--border);
    }

    /* â”€â”€ Responsive â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 700px) {
      header { padding: 0 20px; }
      main { padding: 36px 20px 60px; }
      .agents-grid { grid-template-columns: 1fr; }
      .login-box { padding: 36px 24px 28px; }
      .agent-card { padding: 28px 24px; }
    }
  </style>
</head>
<body>

  <!-- â”€â”€ Login Screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="login-screen">
    <div class="login-logo">frontrow<span>MD</span></div>
    <div class="login-box">
      <h1>Marketing Agents</h1>
      <p>Enter your team password and GitHub token to continue</p>
      <input
        type="password"
        id="password-input"
        placeholder="Team password"
        autocomplete="current-password"
        style="margin-bottom: 12px;"
      />
      <input
        type="password"
        id="token-input"
        placeholder="GitHub Personal Access Token (ghp_...)"
        autocomplete="off"
        style="margin-bottom: 0;"
      />
      <div style="font-size:12px; color:rgba(255,255,255,0.3); margin: 10px 0 24px; font-style:italic; line-height:1.5;">
        Token is never stored or committed â€” held in memory only for this session.
      </div>
      <button class="login-btn" onclick="handleLogin()">Sign in â†’</button>
      <div class="login-error" id="login-error"></div>
    </div>
  </div>

  <!-- â”€â”€ Main App â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div id="app">
    <header>
      <div class="header-logo">
        <span class="caduceus">â˜¤</span>
        frontrow<strong>MD</strong>
      </div>
      <div class="header-right">
        <span class="header-badge">Marketing Agents</span>
        <button class="logout-btn" onclick="handleLogout()">Sign out</button>
      </div>
    </header>

    <main>
      <div class="page-intro">
        <h2>Agent Control Centre</h2>
        <p>Trigger automated marketing reports and analysis on demand. Results post to Slack and email within 60 seconds.</p>
      </div>

      <div class="agents-grid">

        <!-- â”€â”€ Agent 6: Reporting Dashboard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="agent-card" id="card-agent6">
          <div class="card-header">
            <div class="agent-icon">ğŸ“Š</div>
            <div class="card-meta">
              <div class="agent-number">Agent 6</div>
              <div class="agent-title">Reporting Dashboard</div>
            </div>
          </div>
          <p class="agent-desc">
            Full cross-channel performance report â€” ad spend, demos, CPD, pipeline,
            MRR, and GA4 funnel. Covers yesterday, last 7 days, and month-to-date.
          </p>
          <div class="delivery-tags">
            <span class="tag">ğŸ“¨ Slack summary</span>
            <span class="tag">ğŸ“§ Email + HTML dashboard</span>
            <span class="tag">ğŸŒ GitHub Pages</span>
          </div>
          <div class="card-details">
            <div class="detail-item">
              <span class="detail-label">Channels</span>
              <span class="detail-value">Meta Â· LinkedIn Â· TikTok Â· Google Â· YouTube</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Data sources</span>
              <span class="detail-value">Windsor.ai Â· HubSpot Â· GA4</span>
            </div>
          </div>
          <button class="run-btn" id="btn-agent6" onclick="runAgent('agent6')">
            <span class="btn-icon">â–¶</span>
            <span class="btn-text">Run Reporting Dashboard</span>
          </button>
          <div class="status-log" id="log-agent6"></div>
          <div class="schedule-badge">
            <span class="dot"></span>
            Runs automatically Monâ€“Fri at 7:00 AM ET
          </div>
        </div>

        <!-- â”€â”€ Agent 4: LinkedIn Optimizer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <div class="agent-card" id="card-agent4">
          <div class="card-header">
            <div class="agent-icon">ğŸ’¼</div>
            <div class="card-meta">
              <div class="agent-number">Agent 4</div>
              <div class="agent-title">LinkedIn Campaign Optimizer</div>
            </div>
          </div>
          <p class="agent-desc">
            Deep LinkedIn campaign analysis â€” CPD vs target, CTR benchmarks, disqualification
            patterns, budget pacing, per-campaign action items, and audience playbook.
          </p>
          <div class="delivery-tags">
            <span class="tag">ğŸ“¨ Slack summary</span>
            <span class="tag">ğŸ“§ Email + HTML dashboard</span>
            <span class="tag">ğŸŒ GitHub Pages</span>
          </div>
          <div class="card-details">
            <div class="detail-item">
              <span class="detail-label">Focus</span>
              <span class="detail-value">LinkedIn only Â· vs other channels</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">Data sources</span>
              <span class="detail-value">Windsor.ai Â· HubSpot</span>
            </div>
          </div>
          <button class="run-btn" id="btn-agent4" onclick="runAgent('agent4')">
            <span class="btn-icon">â–¶</span>
            <span class="btn-text">Run LinkedIn Optimizer</span>
          </button>
          <div class="status-log" id="log-agent4"></div>
          <div class="schedule-badge">
            <span class="dot"></span>
            Runs automatically Monâ€“Fri at 7:00 AM ET
          </div>
        </div>

      </div><!-- /agents-grid -->

      <!-- â”€â”€ Activity feed â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
      <div class="activity-section">
        <h3>Session Activity</h3>
        <div id="activity-list">
          <p class="no-activity">No agents run yet this session.</p>
        </div>
      </div>

    </main>

    <footer>
      frontrowMD Marketing Operations &nbsp;Â·&nbsp; Agents platform &nbsp;Â·&nbsp; Triggers run in GitHub Actions
    </footer>
  </div>

  <script>
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // CONFIGURATION
    // Update these four values before deploying.
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const CONFIG = {
      // The shared password your team will use to access the page.
      TEAM_PASSWORD: 'frontrow2025',

      // Your GitHub username (e.g. 'alexsmith')
      GITHUB_OWNER: 'YOUR_GITHUB_USERNAME',

      // The repo that contains the Agent 6 workflow file
      AGENT6_REPO: 'frontrowmd-reporting-dashboard',

      // The repo that contains the Agent 4 workflow file
      AGENT4_REPO: 'frontrowmd-linkedin-optimizer',

      // GITHUB_TOKEN is NOT stored here â€” it is entered at login time and
      // held only in memory. Never paste a token into this file.
    };

    // Runtime token â€” set at login, cleared at logout, never persisted anywhere.
    let GITHUB_TOKEN = '';

    // Workflow file names (match whatever you named the .yml files in each repo)
    const WORKFLOWS = {
      agent6: 'reporting-dashboard.yml',
      agent4: 'linkedin-optimizer.yml',
    };

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // AUTH
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const SESSION_KEY = 'fmd_auth';

    function handleLogin() {
      const input = document.getElementById('password-input').value;
      const tokenInput = document.getElementById('token-input').value.trim();

      if (input !== CONFIG.TEAM_PASSWORD) {
        document.getElementById('login-error').textContent = 'Incorrect password. Try again.';
        document.getElementById('password-input').value = '';
        document.getElementById('password-input').focus();
        return;
      }

      if (!tokenInput || !tokenInput.startsWith('ghp_')) {
        document.getElementById('login-error').textContent = 'Please enter a valid GitHub token (starts with ghp_).';
        document.getElementById('token-input').focus();
        return;
      }

      GITHUB_TOKEN = tokenInput;
      sessionStorage.setItem(SESSION_KEY, '1');
      document.getElementById('login-screen').classList.add('hidden');
      document.getElementById('app').classList.add('visible');
    }

    function handleLogout() {
      GITHUB_TOKEN = '';
      sessionStorage.removeItem(SESSION_KEY);
      document.getElementById('login-screen').classList.remove('hidden');
      document.getElementById('app').classList.remove('visible');
      document.getElementById('password-input').value = '';
      document.getElementById('token-input').value = '';
      document.getElementById('login-error').textContent = '';
    }

    // Allow Enter key on password or token field
    document.getElementById('password-input').addEventListener('keydown', e => {
      if (e.key === 'Enter') handleLogin();
    });
    document.getElementById('token-input').addEventListener('keydown', e => {
      if (e.key === 'Enter') handleLogin();
    });

    // No auto-unlock â€” token must be entered fresh each session (never stored)

    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // AGENT RUNNER
    // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const activityLog = [];

    async function runAgent(agentId) {
      const btn      = document.getElementById(`btn-${agentId}`);
      const logEl    = document.getElementById(`log-${agentId}`);
      const btnText  = btn.querySelector('.btn-text');
      const btnIcon  = btn.querySelector('.btn-icon');

      const repo = agentId === 'agent6' ? CONFIG.AGENT6_REPO : CONFIG.AGENT4_REPO;
      const workflow = WORKFLOWS[agentId];
      const agentName = agentId === 'agent6' ? 'Reporting Dashboard' : 'LinkedIn Optimizer';

      // â”€â”€ Set running state â”€â”€
      btn.disabled = true;
      btn.classList.add('running');
      btnIcon.outerHTML = '<span class="spinner"></span>';
      btnText.textContent = 'Triggeringâ€¦';
      logEl.classList.remove('error-log');
      showLog(logEl, 'â³ Sending request to GitHub Actionsâ€¦');

      try {
        const url = `https://api.github.com/repos/${CONFIG.GITHUB_OWNER}/${repo}/actions/workflows/${workflow}/dispatches`;

        const res = await fetch(url, {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${GITHUB_TOKEN}`,
            'Accept': 'application/vnd.github+json',
            'X-GitHub-Api-Version': '2022-11-28',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ ref: 'main' }),
        });

        if (res.status === 204) {
          // â”€â”€ Success â”€â”€
          btn.classList.remove('running');
          btn.classList.add('success');
          btn.querySelector('.spinner').outerHTML = '<span class="btn-icon">âœ“</span>';
          btnText.textContent = 'Running â€” check Slack';
          showLog(logEl,
            `âœ… Triggered successfully at ${now()}.\n` +
            `Results will arrive in Slack in ~60 seconds.\n` +
            `Full run log: github.com/${CONFIG.GITHUB_OWNER}/${repo}/actions`,
            `<a href="https://github.com/${CONFIG.GITHUB_OWNER}/${repo}/actions" target="_blank">View run log on GitHub â†’</a>`
          );
          addActivity(agentName, 'success');

          // Reset button after 12 seconds
          setTimeout(() => resetBtn(btn, btnText, agentId), 12000);

        } else {
          const body = await res.text().catch(() => '');
          throw new Error(`GitHub returned ${res.status}${body ? ': ' + body : ''}`);
        }

      } catch (err) {
        // â”€â”€ Error â”€â”€
        btn.classList.remove('running');
        btn.classList.add('error');
        const sp = btn.querySelector('.spinner');
        if (sp) sp.outerHTML = '<span class="btn-icon">âœ•</span>';
        btnText.textContent = 'Error â€” see details below';
        logEl.classList.add('error-log');
        showLog(logEl,
          `âŒ Failed to trigger at ${now()}.\n` +
          `Error: ${err.message}\n\n` +
          `Check that GITHUB_TOKEN and GITHUB_OWNER are set correctly in index.html.`
        );
        addActivity(agentName, 'error');

        setTimeout(() => resetBtn(btn, btnText, agentId), 10000);
      }
    }

    function resetBtn(btn, btnText, agentId) {
      btn.disabled = false;
      btn.className = 'run-btn';
      const iconEl = btn.querySelector('.btn-icon, .spinner');
      if (iconEl) iconEl.outerHTML = '<span class="btn-icon">â–¶</span>';
      btnText.textContent = agentId === 'agent6' ? 'Run Reporting Dashboard' : 'Run LinkedIn Optimizer';
    }

    function showLog(el, ...lines) {
      el.innerHTML = lines.map((line, i) => {
        if (i === 0) return `<div class="log-time">${line.split('\n')[0]}</div>${line.split('\n').slice(1).join('<br>')}`;
        return line;
      }).join('<br>');
      el.classList.add('visible');
    }

    function addActivity(agentName, status) {
      activityLog.unshift({ agentName, status, time: now() });
      renderActivity();
    }

    function renderActivity() {
      const list = document.getElementById('activity-list');
      if (activityLog.length === 0) {
        list.innerHTML = '<p class="no-activity">No agents run yet this session.</p>';
        return;
      }
      list.innerHTML = activityLog.slice(0, 8).map(item => `
        <div class="activity-item">
          <span class="activity-dot ${item.status}"></span>
          <span>
            <strong>${item.agentName}</strong>
            ${item.status === 'success' ? 'â€” triggered successfully, running in GitHub Actions' : 'â€” trigger failed (check config)'}
          </span>
          <span class="activity-time">${item.time}</span>
        </div>
      `).join('');
    }

    function now() {
      return new Date().toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
    }
  </script>

</body>
</html>
